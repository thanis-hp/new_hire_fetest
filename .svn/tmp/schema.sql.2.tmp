CREATE TABLE USERS (
    USER_ID INTEGER NOT NULL,
    USERNAME VARCHAR(45) NOT NULL,
    PASSWORD VARCHAR(45) NOT NULL,
    ENABLED INTEGER NOT NULL,
    NAME VARCHAR(45) NOT NULL,
    DEPT VARCHAR(35) NOT NULL,
    PRIMARY KEY(USER_ID)
);

CREATE TABLE USER_ROLES (
    USER_ROLE_ID INTEGER NOT NULL,
    USER_ID INTEGER NOT NULL,
    AUTHORITY VARCHAR(45) NOT NULL,
    PRIMARY KEY (USER_ROLE_ID),
    CONSTRAINT FK_USER_ROLES FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID)
);

create table USER_ACCESS_AUDIT(
    USER_ID varchar(45) not null,
    LOGIN TIMESTAMP null,
    LOGOUT TIMESTAMP null,
    SESSION_ID varchar(80) not null,
    PRIMARY KEY (USER_ID,SESSION_ID)
);

create table ALB_ALARMSAMPLE(
    ALARM_ID INTEGER NOT NULL,
    ALARM_NAME VARCHAR(50),
    ALARM_TEXT VARCHAR(500),
    ALARM_REMARK VARCHAR(200)
);

create table ALB_PROFILETABLE(
    PROFILE_ID VARCHAR(20) NOT NULL,
    PROFILE_ALARM_PROCESSING VARCHAR(20),
    CONTROL_FILE_PARAMETER_EXTRACTION VARCHAR(30),
    CONTROL_FILE_ALARM_IDENTIFIER VARCHAR(30),
    CUSTOM_FIELDS VARCHAR(30),
    ALB_VERSION VARCHAR(10) NOT NULL,
    ALB_USER VARCHAR(10),
    TRANSLATE_STATUS VARCHAR(10),
    DEPLOY_STATUS VARCHAR(10),
    DATE_CREATED TIMESTAMP NOT NULL,
    PRIMARY KEY (PROFILE_ID, ALB_VERSION)
);

CREATE TABLE ALB_SELCTRL(
    PROFILE_ID VARCHAR(20) NOT NULL,
    ACCESS_MODULE VARCHAR(20),
    GLOBAL_CLASS VARCHAR(20),
    DOMAINS VARCHAR(20),
    NODE_NAME VARCHAR(20),
    SUBCLASS VARCHAR(20),
    ORIGINAL_ALARM_REMAIN VARCHAR(20),
--    PROFILE VARCHAR(20), -- since we're using PROFILE_NAME as PROFILE_ID
    MANAGED_OBJECT_DISCRIMINATOR VARCHAR(20),
    ALB_VERSION VARCHAR(20) NOT NULL,
    ALB_USER VARCHAR(20),
    DATE_CREATED TIMESTAMP NOT NULL,
    PRIMARY KEY (PROFILE_ID, ALB_VERSION)
);



CREATE TABLE ALB_PARAMEXTRACT(
    PROFILE_ID VARCHAR(20) NOT NULL,
    TARGET_ALARM_PARAMETER VARCHAR(20),
    SOURCE_ALARM_PARAMETER VARCHAR(20),
    KEYWORD VARCHAR(20),
    EXTRACT_AFTER_KEYWORD VARCHAR(20),
    POST_PROCESSING VARCHAR(20),
    ALB_VERSION VARCHAR(20) NOT NULL,
    ALB_USER VARCHAR(20),
    DATE_CREATED TIMESTAMP NOT NULL,
    PRIMARY KEY (PROFILE_ID, TARGET_ALARM_PARAMETER, ALB_VERSION)
);

CREATE TABlE ALB_ALARMIDENTIFIER(
    PROFILE_ID VARCHAR(20) NOT NULL,
    EVENT_ID VARCHAR(20) NOT NULL,
    VARIABLES VARCHAR(20),
    SHOW_ALARM VARCHAR(20),
    DATABASE_TABLE VARCHAR(20),
    DATABASE_ACCESS VARCHAR(20),
    TABLE_COLUMNS VARCHAR(20),
    ADDITIONAL_TEXT VARCHAR(20),
    PROBABLE_CAUSE VARCHAR(20),
    PERCEIVED_SEVERITY VARCHAR(20),
    ALARM_TYPE VARCHAR(20),
    USERTEXT VARCHAR(20),
    LABEL1 VARCHAR(20),
    LABEL2 VARCHAR(20),
    LABEL3 VARCHAR(20),
    LABEL4 VARCHAR(20),
    LABEL5 VARCHAR(20),
    LABEL6 VARCHAR(20),
    LABEL7 VARCHAR(20),
    LABEL8 VARCHAR(20),
    LABEL9 VARCHAR(20),
    LABEL10 VARCHAR(20),
    ALB_VERSION VARCHAR(20) NOT NULL,
    ALB_USER VARCHAR(20),
    DATE_CREATED TIMESTAMP NOT NULL,
    PRIMARY KEY (PROFILE_ID, EVENT_ID, ALB_VERSION)
);

CREATE TABLE ALB_USERS(
    USER_ID VARCHAR(20),
    USERNAME VARCHAR(20),
    PASSWORD VARCHAR(20),
    ENABLED VARCHAR(20),
    NAME VARCHAR(20),
    DEPT VARCHAR(20),
    DATE_MODIFIED TIMESTAMP NOT NULL
);

CREATE TABLE ALB_USERROLES(
    USER_ROLE_ID VARCHAR(20),
    USER_ID VARCHAR(20),
    AUTHORITY VARCHAR(20),
    DATE_MODIFIED TIMESTAMP NOT NULL
);


CREATE TABLE ALB_USERACCESS(
    USER_ID VARCHAR(20),
    ACTION_TYPE VARCHAR(20),
    TIMESTAMP TIMESTAMP NOT NULL,
    SESSION_ID VARCHAR(20)
);

CREATE SEQUENCE user_seq AS INTEGER START WITH 110 INCREMENT BY 1;



-- CREATE SEQUENCE user_seq
--  START WITH     110
--  INCREMENT BY   1
--  maxvalue 999999999
--  NOCACHE
--  CYCLE;
--
-- CREATE SEQUENCE user_role_seq
--  START WITH     10
--  INCREMENT BY   1
--  maxvalue 999999999
--  NOCACHE
--  CYCLE;


